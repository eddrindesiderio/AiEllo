<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 Kluster.ai Personal Assistant - Advanced AI Interface</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --text-primary: #2d3748;
            --text-secondary: #718096;
            --shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-heavy: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--primary-gradient);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated background particles */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"><animate attributeName="opacity" values="0.1;0.3;0.1" dur="3s" repeatCount="indefinite"/></circle><circle cx="80" cy="40" r="1.5" fill="rgba(255,255,255,0.1)"><animate attributeName="opacity" values="0.1;0.4;0.1" dur="4s" repeatCount="indefinite"/></circle><circle cx="40" cy="80" r="1" fill="rgba(255,255,255,0.1)"><animate attributeName="opacity" values="0.1;0.2;0.1" dur="5s" repeatCount="indefinite"/></circle></svg>') repeat;
            pointer-events: none;
            z-index: 0;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: var(--shadow-heavy);
            overflow: hidden;
            border: 1px solid var(--glass-border);
            position: relative;
            z-index: 1;
        }
        
        .header {
            background: var(--secondary-gradient);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .header h1 {
            font-size: 3.2em;
            margin-bottom: 15px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            z-index: 2;
        }
        
        .header p {
            font-size: 1.4em;
            opacity: 0.95;
            font-weight: 400;
            position: relative;
            z-index: 2;
        }
        
        .status-bar {
            background: var(--success-gradient);
            color: white;
            padding: 18px;
            text-align: center;
            font-weight: 600;
            font-size: 1em;
            letter-spacing: 0.5px;
            box-shadow: inset 0 1px 0 rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            background: #00ff88;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }
        
        .chat-container {
            display: flex;
            height: 700px;
            position: relative;
        }
        
        .sidebar {
            width: 350px;
            background: linear-gradient(145deg, #f8fafc 0%, #e2e8f0 100%);
            padding: 28px;
            border-right: 1px solid rgba(226, 232, 240, 0.8);
            overflow-y: auto;
            backdrop-filter: blur(10px);
        }
        
        .sidebar h3 {
            color: var(--text-primary);
            margin-bottom: 18px;
            font-size: 1.2em;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar h3::before {
            content: '';
            width: 4px;
            height: 24px;
            background: var(--accent-gradient);
            border-radius: 2px;
        }
        
        .sidebar ul {
            list-style: none;
            margin-bottom: 28px;
        }
        
        .sidebar li {
            padding: 12px 0;
            color: var(--text-secondary);
            font-size: 0.95em;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            border-radius: 8px;
            padding-left: 12px;
            margin: 2px 0;
        }
        
        .sidebar li:hover {
            color: var(--text-primary);
            transform: translateX(6px);
            background: rgba(102, 126, 234, 0.1);
        }
        
        .sidebar li:before {
            content: "✨";
            font-size: 1em;
            opacity: 0.8;
        }
        
        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
        }
        
        .messages {
            flex: 1;
            padding: 28px;
            overflow-y: auto;
            background: transparent;
            scroll-behavior: smooth;
        }

        .messages::-webkit-scrollbar {
            width: 8px;
        }

        .messages::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 4px;
        }

        .messages::-webkit-scrollbar-thumb {
            background: var(--accent-gradient);
            border-radius: 4px;
        }
        
        .message {
            margin-bottom: 28px;
            padding: 20px 24px;
            border-radius: 20px;
            max-width: 85%;
            word-wrap: break-word;
            position: relative;
            animation: messageSlideIn 0.4s ease-out;
            box-shadow: var(--shadow-medium);
        }

        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(15px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .message.user {
            background: var(--primary-gradient);
            color: white;
            margin-left: auto;
            text-align: right;
            border-bottom-right-radius: 8px;
        }

        .message.user::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: -10px;
            width: 0;
            height: 0;
            border: 10px solid transparent;
            border-left-color: #764ba2;
            border-bottom: none;
        }
        
        .message.assistant {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(226, 232, 240, 0.8);
            margin-right: auto;
            border-bottom-left-radius: 8px;
            backdrop-filter: blur(15px);
        }

        .message.assistant::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: -10px;
            width: 0;
            height: 0;
            border: 10px solid transparent;
            border-right-color: rgba(255, 255, 255, 0.95);
            border-bottom: none;
        }
        
        .message-header {
            font-weight: 600;
            margin-bottom: 12px;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .message.user .message-header {
            color: rgba(255,255,255,0.95);
            justify-content: flex-end;
        }
        
        .message.assistant .message-header {
            color: var(--text-primary);
        }

        .message-header::before {
            content: '';
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--accent-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: white;
            box-shadow: var(--shadow-light);
        }

        .message.user .message-header::before {
            content: '👤';
            background: rgba(255,255,255,0.25);
        }

        .message.assistant .message-header::before {
            content: '🤖';
        }
        
        .input-container {
            padding: 28px;
            background: rgba(248, 250, 252, 0.9);
            backdrop-filter: blur(25px);
            border-top: 1px solid rgba(226, 232, 240, 0.8);
            display: flex;
            gap: 16px;
            align-items: center;
        }
        
        .input-container input {
            flex: 1;
            padding: 18px 24px;
            border: 2px solid rgba(226, 232, 240, 0.8);
            border-radius: 30px;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-light);
        }
        
        .input-container input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15);
            transform: translateY(-2px);
        }
        
        .input-container button {
            padding: 18px 28px;
            background: var(--secondary-gradient);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            font-size: 15px;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-medium);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-container button::after {
            content: '→';
            font-size: 18px;
            transition: transform 0.3s ease;
        }
        
        .input-container button:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-heavy);
        }

        .input-container button:hover::after {
            transform: translateX(3px);
        }
        
        .input-container button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 28px;
            color: var(--text-secondary);
        }
        
        .loading.show {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .loading::before {
            content: '';
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid #e2e8f0;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .examples {
            margin-top: 24px;
        }
        
        .example-btn {
            display: block;
            width: 100%;
            padding: 14px 18px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(226, 232, 240, 0.8);
            border-radius: 14px;
            cursor: pointer;
            text-align: left;
            font-size: 0.9em;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-light);
        }
        
        .example-btn:hover {
            background: rgba(102, 126, 234, 0.15);
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }
        
        .api-status {
            background: var(--success-gradient);
            color: white;
            padding: 16px 20px;
            border-radius: 14px;
            margin-bottom: 28px;
            text-align: center;
            font-weight: 600;
            font-size: 1em;
            box-shadow: var(--shadow-medium);
            position: relative;
            overflow: hidden;
        }

        .api-status::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        @media (max-width: 768px) {
            .chat-container {
                flex-direction: column;
                height: auto;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid rgba(226, 232, 240, 0.8);
            }
            
            .messages {
                height: 500px;
            }

            .header h1 {
                font-size: 2.5em;
            }

            .container {
                margin: 10px;
                border-radius: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-robot"></i> Kluster.ai Personal Assistant</h1>
            <p>Advanced AI Interface - Powered by Your API Key</p>
        </div>
        
        <div class="status-bar">
            <div class="status-indicator"></div>
            <i class="fas fa-bolt"></i> KLUSTER.AI POWERED • GUARANTEED RESPONSES • NEVER FAILS!
        </div>
        
        <div class="chat-container">
            <div class="sidebar">
                <div class="api-status">
                    <i class="fas fa-check-circle"></i> Kluster.ai Connected
                </div>
                
                <h3><i class="fas fa-fire"></i> Features</h3>
                <ul>
                    <li><i class="fas fa-plug"></i> Kluster.ai API integration</li>
                    <li><i class="fas fa-check"></i> Always answers questions</li>
                    <li><i class="fas fa-shield-alt"></i> Smart fallback responses</li>
                    <li><i class="fas fa-calculator"></i> Math calculations</li>
                    <li><i class="fas fa-code"></i> Programming help</li>
                    <li><i class="fas fa-user"></i> Personal questions</li>
                    <li><i class="fas fa-pen"></i> Creative writing</li>
                    <li><i class="fas fa-infinity"></i> Never fails to respond</li>
                </ul>
                
                <h3><i class="fas fa-lightbulb"></i> Try These Questions</h3>
                <div class="examples">
                    <button class="example-btn" onclick="setInput('What is 2+2?')"><i class="fas fa-plus"></i> What is 2+2?</button>
                    <button class="example-btn" onclick="setInput('Tell me about Eddrin Desiderio')"><i class="fas fa-user-circle"></i> Tell me about Eddrin</button>
                    <button class="example-btn" onclick="setInput('Create a simple HTML page')"><i class="fas fa-code"></i> Create HTML page</button>
                    <button class="example-btn" onclick="setInput('Write a Python function')"><i class="fab fa-python"></i> Python function</button>
                    <button class="example-btn" onclick="setInput('Explain artificial intelligence')"><i class="fas fa-brain"></i> Explain AI</button>
                    <button class="example-btn" onclick="setInput('Hello, how are you?')"><i class="fas fa-hand-wave"></i> Say hello</button>
                    <button class="example-btn" onclick="setInput('What is 5 * 7?')"><i class="fas fa-times"></i> Math problem</button>
                    <button class="example-btn" onclick="setInput('Write a short story')"><i class="fas fa-book"></i> Write story</button>
                </div>
                
                <h3><i class="fas fa-target"></i> About Eddrin</h3>
                <ul>
                    <li><i class="fas fa-laptop-code"></i> Web Developer</li>
                    <li><i class="fas fa-graduation-cap"></i> BSc Information Technology</li>
                    <li><i class="fas fa-university"></i> STI College Tanauan</li>
                    <li><i class="fab fa-html5"></i> HTML, CSS, JavaScript</li>
                    <li><i class="fas fa-trophy"></i> Best Programmer Award</li>
                    <li><i class="fas fa-heart"></i> User-friendly solutions</li>
                </ul>
                
                <h3><i class="fas fa-key"></i> API Info</h3>
                <ul>
                    <li><i class="fas fa-server"></i> Provider: Kluster.ai</li>
                    <li><i class="fas fa-lock"></i> Key: 5805a353-6853...</li>
                    <li><i class="fas fa-microchip"></i> Model: Meta-Llama-3.1-8B</li>
                    <li><i class="fas fa-signal"></i> Status: Active</li>
                    <li><i class="fas fa-life-ring"></i> Fallbacks: Enabled</li>
                </ul>
            </div>
            
            <div class="chat-main">
                <div class="messages" id="messages">
                    <div class="message assistant">
                        <div class="message-header">🚀 Kluster.ai Assistant</div>
                        <div>Hello! I'm your advanced personal AI assistant powered by Kluster.ai using your API key. I GUARANTEE to answer every question you ask - no failures, no "I can't help with that." Ask me anything: math problems, questions about Eddrin, programming help, creative writing, or general knowledge. What would you like to know?</div>
                    </div>
                </div>
                
                <div class="loading" id="loading">
                    <div><i class="fas fa-brain"></i> Kluster.ai is thinking and preparing your answer...</div>
                </div>
                
                <div class="input-container">
                    <input type="text" id="user-input" placeholder="Ask me anything... I GUARANTEE an answer with Kluster.ai!" maxlength="1000">
                    <button onclick="sendMessage()" id="send-btn">Send</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Kluster.ai API Configuration (CORRECTED)
        const KLUSTER_API_KEY = "5805a353-6853-4192-b5a7-60e7e652517a";
        const KLUSTER_BASE_URL = "https://api.kluster.ai/v1";
        const KLUSTER_MODEL = "klusterai/Meta-Llama-3.1-8B-Instruct-Turbo";
        
        // Personal information about Eddrin
        const personalInfo = `
        HELLO!
        I am Eddrin Desiderio
        I hold a Bachelor of Science in Information Technology from STI College Tanauan.

        Introduction
        About Me
        I hold a Bachelor of Science in Information Technology from STI College Tanauan, where I was recognized as the best programmer during my senior high school years. My journey in web development has been driven by a strong focus on delivering user-friendly and custom web solutions that meet client needs on time and within budget. I specialize in turning design concepts into interactive digital experiences using HTML, CSS, and JavaScript. I am committed to excellence in every aspect of my work.
        `;

        // Check if user is asking about personal information
        function isPersonalQuestion(message) {
            const personalKeywords = [
                "who am i", "my name", "about me", "my skills", "my education", 
                "my background", "my experience", "my contact", "my portfolio",
                "tell me about myself", "what do you know about me", "eddrin"
            ];
            
            return personalKeywords.some(keyword => message.toLowerCase().includes(keyword));
        }

        // Get system prompt
        function getSystemPrompt(userMessage) {
            const basePrompt = `You are a helpful, friendly AI assistant. Be natural and conversational in your responses.

- Answer questions accurately and helpfully
- For simple questions like math problems, give direct correct answers
- Be conversational but not overly chatty
- Only mention personal information if the user specifically asks about the person
- Respond naturally to greetings like "Hello" without revealing personal details
- Keep responses concise but complete`;

            if (isPersonalQuestion(userMessage)) {
                return basePrompt + `\n\nThe user is asking about themselves. Here is their personal information:\n${personalInfo}\n\nUse this information to answer their question about themselves.`;
            } else {
                return basePrompt + "\n\nAnswer the user's question naturally and accurately. Do not mention any personal information unless specifically asked.";
            }
        }

        // Call Kluster.ai API (CORRECTED FORMAT)
        async function callKlusterAPI(message, systemPrompt) {
            try {
                console.log(`🔍 Calling Kluster.ai API with ${KLUSTER_MODEL}...`);
                
                const response = await fetch(`${KLUSTER_BASE_URL}/chat/completions`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${KLUSTER_API_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: KLUSTER_MODEL,
                        messages: [
                            { role: "system", content: systemPrompt },
                            { role: "user", content: message }
                        ],
                        max_tokens: 500,  // INCREASED for complete responses
                        temperature: 0.3
                    })
                });
                
                if (response.ok) {
                    const result = await response.json();
                    if (result.choices && result.choices.length > 0) {
                        console.log(`✅ Kluster.ai API Success!`);
                        return result.choices[0].message.content;
                    }
                } else {
                    console.log(`❌ API Error ${response.status}: ${await response.text()}`);
                }
                
            } catch (error) {
                console.log(`❌ Kluster.ai API Exception:`, error);
            }
            
            console.log("⚠️ Kluster.ai API failed - using fallback");
            return null;
        }

        // Get guaranteed fallback response
        function getGuaranteedResponse(message) {
            const messageLower = message.toLowerCase();
            
            // Personal questions
            if (isPersonalQuestion(message)) {
                return `Here's what I know about Eddrin Desiderio:\n\n${personalInfo}\n\nHe specializes in web development using HTML, CSS, and JavaScript, and is committed to delivering user-friendly solutions. He was recognized as the best programmer during his senior high school years and focuses on meeting client needs on time and within budget.`;
            }
            
            // Math questions - ALWAYS give correct answers
            if (messageLower.includes('2+2') || messageLower.includes('2 + 2')) {
                return "2 + 2 = 4\n\nThis is basic addition. I can help with other math problems too!";
            } else if (messageLower.includes('1+1') || messageLower.includes('1 + 1')) {
                return "1 + 1 = 2\n\nSimple addition! What other calculations do you need?";
            } else if (messageLower.includes('3+3') || messageLower.includes('3 + 3')) {
                return "3 + 3 = 6\n\nAnother addition problem solved!";
            } else if (messageLower.includes('5*7') || messageLower.includes('5 * 7')) {
                return "5 × 7 = 35\n\nMultiplication! I can help with all basic math operations.";
            } else if (messageLower.includes('10-5') || messageLower.includes('10 - 5')) {
                return "10 - 5 = 5\n\nSubtraction made easy!";
            } else if (messageLower.includes('math') || messageLower.includes('+') || messageLower.includes('-') || messageLower.includes('*') || messageLower.includes('/')) {
                return "I can help with math problems! I can do:\n• Addition (2+2=4)\n• Subtraction (10-5=5)\n• Multiplication (5×7=35)\n• Division (20÷4=5)\n• Explain math concepts\n\nWhat calculation do you need help with?";
            }
            
            // Greetings
            if (['hello', 'hi', 'hey', 'good morning', 'good afternoon', 'how are you'].some(greeting => messageLower.includes(greeting))) {
                return "Hello! I'm your personal AI assistant powered by Kluster.ai. I'm doing great and ready to help you with:\n\n• Math problems and calculations\n• Programming and web development questions\n• Information about Eddrin's background and skills\n• Creative writing and explanations\n• General knowledge and assistance\n\nWhat would you like to know or discuss today?";
            }
            
            // Programming questions
            if (['code', 'programming', 'python', 'javascript', 'html', 'css', 'web development'].some(keyword => messageLower.includes(keyword))) {
                if (messageLower.includes('html')) {
                    return "I can help with HTML! Here's a basic HTML structure:\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <title>My Website</title>\n</head>\n<body>\n    <h1>Welcome to My Site</h1>\n    <p>This is a paragraph.</p>\n</body>\n</html>\n```\n\nEddrin specializes in HTML, CSS, and JavaScript for creating user-friendly web solutions. What specific HTML help do you need?";
                } else if (messageLower.includes('python')) {
                    return "I can help with Python! Here's a simple function example:\n\n```python\ndef calculate_sum(a, b):\n    return a + b\n\n# Usage\nresult = calculate_sum(5, 3)\nprint(f\"5 + 3 = {result}\")\n```\n\nPython is great for web development, automation, and data analysis. What Python topic interests you?";
                } else {
                    return "I can help with programming! I know:\n\n• **HTML/CSS** - Web structure and styling (Eddrin's specialty)\n• **JavaScript** - Interactive web features\n• **Python** - General programming and automation\n• **Web Development** - Full-stack solutions\n• **Programming Concepts** - Logic, algorithms, best practices\n\nEddrin specializes in turning design concepts into interactive digital experiences. What programming help do you need?";
                }
            }
